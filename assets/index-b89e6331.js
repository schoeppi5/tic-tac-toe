var Ne=Object.defineProperty;var Ce=(e,t,n)=>t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var S=(e,t,n)=>(Ce(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function I(){}function De(e,t){for(const n in t)e[n]=t[n];return e}function Me(e){return e()}function ye(){return Object.create(null)}function B(e){e.forEach(Me)}function Te(e){return typeof e=="function"}function F(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function He(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function M(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function $e(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function Y(e){return document.createTextNode(e)}function D(){return Y(" ")}function R(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Re(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function pe(e,t){e.value=t??""}function ge(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function je(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let Z;function Q(e){Z=e}function Ye(){if(!Z)throw new Error("Function called outside component initialization");return Z}function Be(e){Ye().$$.on_mount.push(e)}function ue(){const e=Ye();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const o=je(t,n,{cancelable:r});return i.slice().forEach(s=>{s.call(e,o)}),!o.defaultPrevented}return!0}}const J=[],ve=[],oe=[],be=[],Ue=Promise.resolve();let ae=!1;function We(){ae||(ae=!0,Ue.then(Le))}function de(e){oe.push(e)}const fe=new Set;let z=0;function Le(){if(z!==0)return;const e=Z;do{try{for(;z<J.length;){const t=J[z];z++,Q(t),ze(t.$$)}}catch(t){throw J.length=0,z=0,t}for(Q(null),J.length=0,z=0;ve.length;)ve.pop()();for(let t=0;t<oe.length;t+=1){const n=oe[t];fe.has(n)||(fe.add(n),n())}oe.length=0}while(J.length);for(;be.length;)be.pop()();ae=!1,fe.clear(),Q(e)}function ze(e){if(e.fragment!==null){e.update(),B(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(de)}}const se=new Set;let Je;function K(e,t){e&&e.i&&(se.delete(e),e.i(t))}function ne(e,t,n,r){if(e&&e.o){if(se.has(e))return;se.add(e),Je.c.push(()=>{se.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Ge(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],u=t[o];if(u){for(const c in s)c in u||(r[c]=1);for(const c in u)i[c]||(n[c]=u[c],i[c]=1);e[o]=u}else for(const c in s)i[c]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Ke(e){return typeof e=="object"&&e!==null?e:{}}function re(e){e&&e.c()}function V(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||de(()=>{const s=e.$$.on_mount.map(Me).filter(Te);e.$$.on_destroy?e.$$.on_destroy.push(...s):B(s),e.$$.on_mount=[]}),o.forEach(de)}function q(e,t){const n=e.$$;n.fragment!==null&&(B(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ve(e,t){e.$$.dirty[0]===-1&&(J.push(e),We(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function x(e,t,n,r,i,o,s,u=[-1]){const c=Z;Q(e);const l=e.$$={fragment:null,ctx:[],props:o,update:I,not_equal:i,bound:ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:ye(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};s&&s(l.root);let m=!1;if(l.ctx=n?n(e,t.props||{},(h,g,...f)=>{const w=f.length?f[0]:g;return l.ctx&&i(l.ctx[h],l.ctx[h]=w)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](w),m&&Ve(e,h)),g}):[],l.update(),m=!0,B(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const h=Re(t.target);l.fragment&&l.fragment.l(h),h.forEach(P)}else l.fragment&&l.fragment.c();t.intro&&K(e.$$.fragment),V(e,t.target,t.anchor,t.customElement),Le()}Q(c)}class ee{$destroy(){q(this,1),this.$destroy=I}$on(t,n){if(!Te(n))return I;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!He(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function qe(e,t){const n=U(e),r=le(e,t);return r>=0?r:n[he(n.length)]}function Qe(e,t){const n=U(e),r=new Map;for(const o of n){const s=[...e];s[o]=t,r.set(o,me(s,$(t),t,!1)),s[o]=T.EMPTY}let i=[-1,-1/0];for(const o of r)o[1]>i[1]&&(i=o);return i[0]}function me(e,t,n,r){const i=U(e),o=_e(e);if(o===n)return 1;if(o===$(n))return-1;if(!i.length)return 0;let s=r?-1/0:1/0;for(const u of i){if(e[u]=t,r){const c=me(e,$(t),n,!1);s=Math.max(s,c)}else{const c=me(e,$(t),n,!0);s=Math.min(s,c)}e[u]=T.EMPTY}return s}function Xe(e,t){const n=U(e),r=le(e,t);if(r>=0)return r;const i=le(e,$(t));return i>=0?i:n.some(o=>o===4)?4:n[he(n.length)]}function Ze(e,t){const n=U(e),r=le(e,$(t));return r>=0?r:n[he(n.length)]}function Fe(e){switch(e){case O.EASY:return qe;case O.PETTY:return Ze;case O.MEDIUM:return Xe;case O.HARD:return Qe;case(O.HUMAN||O.ONLINE):return;default:return}}function le(e,t){if(!Ie(t))throw new Error(`Player ${t} is not valid`);const n=U(e),r=[...e];for(const i of n){if(r[i]=t,_e(r)===t)return i;r[i]=T.EMPTY}return-1}function he(e){return Math.floor(Math.random()*e)}var O=(e=>(e[e.EASY=0]="EASY",e[e.PETTY=1]="PETTY",e[e.MEDIUM=2]="MEDIUM",e[e.HARD=3]="HARD",e[e.HUMAN=4]="HUMAN",e[e.ONLINE=5]="ONLINE",e))(O||{}),T=(e=>(e[e.EMPTY=0]="EMPTY",e[e.PLAYER1=1]="PLAYER1",e[e.PLAYER2=2]="PLAYER2",e))(T||{});class we{constructor(t,n=0){S(this,"score",0);S(this,"field");S(this,"mode",0);S(this,"connection");this.field=t,this.mode=n}addWin(){this.score++}resetScore(){this.score=0}isHuman(){return this.mode===4}isOnline(){return this.mode===5}move(t){switch(this.mode){case 5:return-1;case 4:return-1;default:{const n=Fe(this.mode);return n?n(t,this.field):-1}}}}class xe{constructor(t=new we(1),n=new we(2)){S(this,"player");S(this,"enemy");t.resetScore(),t.mode=4,n.resetScore(),this.player=t,this.enemy=n}addWin(t){switch(t){case 1:this.player.addWin();break;case 2:this.enemy.addWin();break}}switchSides(){const t=this.player;this.player=this.enemy,this.enemy=t,this.player.field=1,this.enemy.field=2}updateMode(t){if(this.player.isHuman()&&this.enemy.isHuman()&&t!=4){this.enemy.mode=t;return}this.player.isHuman()||(this.player.mode=t),this.enemy.isHuman()||(this.enemy.mode=t)}}class ke{constructor(t){S(this,"finished");S(this,"winner",0);this.winner=_e(t),this.finished=et(t)||this.winner!==0}isDraw(){return this.finished===!0&&this.winner===0}}function et(e){return!e.some(t=>t===0)}function _e(e){for(const t of[1,2])if(e[0]===t&&e[1]===t&&e[2]===t||e[3]===t&&e[4]===t&&e[5]===t||e[6]===t&&e[7]===t&&e[8]===t||e[0]===t&&e[4]===t&&e[8]===t||e[2]===t&&e[4]===t&&e[6]===t||e[0]===t&&e[3]===t&&e[6]===t||e[1]===t&&e[4]===t&&e[7]===t||e[2]===t&&e[5]===t&&e[8]===t)return t;return 0}function ie(){const e=new Array(9);return e.fill(0),e}function U(e){return e.map((t,n)=>t!==0?-1:n).filter(t=>t>=0)}function $(e){return Ie(e)?3-e:0}function Ie(e){return e===1||e===2}const tt="ws://64.226.92.78:8080";function Ee(e,t){const n=new WebSocket(`${tt}/connect/${e}`);return n.onopen=r=>{console.log("Connection opened",r)},n.onclose=r=>{console.log("Connection closed",r)},n.onerror=r=>{console.log("Connection errored",r)},n.addEventListener("message",t),n}function Ae(e,t,n,r){const i={ownID:e,playerID:t,preferredSide:n};r.send(JSON.stringify(i))}function nt(e,t,n,r,i){const o={playerID:e,ownID:t,index:n,board:r};i.send(JSON.stringify(o))}function Se(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function Oe(e,t,n){const r=e.slice();return r[20]=t[n],r[22]=n,r}function Pe(e){let t,n=e[3](e[20])+"",r,i,o,s;function u(){return e[8](e[22])}function c(){return e[9](e[22])}return{c(){t=v("div"),r=Y(n),i=D(),d(t,"class","field svelte-j5xlyz"),d(t,"id",e[22].toString())},m(l,m){M(l,t,m),_(t,r),_(t,i),o||(s=[R(t,"click",u),R(t,"keydown",c)],o=!0)},p(l,m){e=l,m&9&&n!==(n=e[3](e[20])+"")&&ce(r,n)},d(l){l&&P(t),o=!1,B(s)}}}function rt(e){let t,n,r,i,o,s,u,c,l,m,h,g,f,w,E=e[0],p=[];for(let y=0;y<E.length;y+=1)p[y]=Pe(Oe(e,E,y));return{c(){t=v("div"),n=v("div");for(let y=0;y<p.length;y+=1)p[y].c();r=D(),i=v("div"),o=v("span"),s=Y(e[4]),u=D(),c=v("input"),l=D(),m=v("button"),h=Y("connect"),d(n,"id","grid"),d(n,"class","svelte-j5xlyz"),d(c,"type","text"),d(c,"placeholder","remote player ID"),d(m,"type","button"),m.disabled=g=e[5].length!==5,d(i,"id","online"),ge(i,"display",e[1].isOnline()||e[2].isOnline()?"flex":"none"),d(i,"class","svelte-j5xlyz"),d(t,"id","board"),d(t,"class","svelte-j5xlyz")},m(y,A){M(y,t,A),_(t,n);for(let b=0;b<p.length;b+=1)p[b].m(n,null);_(t,r),_(t,i),_(i,o),_(o,s),_(i,u),_(i,c),pe(c,e[5]),_(i,l),_(i,m),_(m,h),f||(w=[R(c,"input",e[10]),R(m,"click",e[7])],f=!0)},p(y,[A]){if(A&73){E=y[0];let b;for(b=0;b<E.length;b+=1){const j=Oe(y,E,b);p[b]?p[b].p(j,A):(p[b]=Pe(j),p[b].c(),p[b].m(n,null))}for(;b<p.length;b+=1)p[b].d(1);p.length=E.length}A&16&&ce(s,y[4]),A&32&&c.value!==y[5]&&pe(c,y[5]),A&32&&g!==(g=y[5].length!==5)&&(m.disabled=g),A&6&&ge(i,"display",y[1].isOnline()||y[2].isOnline()?"flex":"none")},i:I,o:I,d(y){y&&P(t),$e(p,y),f=!1,B(w)}}}function it(e,t,n){let{board:r}=t,{fieldToString:i}=t,{player:o}=t,{enemy:s}=t,u="",c="",l=T.PLAYER1|T.PLAYER2;l=T.PLAYER1;const m=ue();function h(){return l===o.field?o:s}function g(){return l===o.field?s:o}function f(a){h().isOnline()||w(a)}function w(a){if(E(a,h().field)){if(g().isOnline()){const N=g();u!==""&&c!==""&&N.connection!==void 0?(nt(u,c,a,r,N.connection),console.log(`Send move on index ${a} to player ${u}`)):console.error(`failed to send move to player ${u}`)}if(l=$(l),!h().isHuman()&&!h().isOnline()){const N=h().move(r);E(N,h().field),l=$(l)}}}function E(a,N){return r[a]!==T.EMPTY||new ke(r).finished?!1:(n(0,r[a]=N,r),n(0,r),!0)}function p(){s.isOnline()&&s.connection!==void 0?Ae(c,u,o.field,s.connection):o.isOnline()&&o.connection!==void 0&&Ae(c,u,s.field,o.connection)}function y(a){return N=>{const C=JSON.parse(N.data);A(C)?(n(5,u=C.ownID),C.preferredSide!==a&&m("switch")):b(C)&&(console.log("isMoveMessage: "),console.log(C),w(C.index))}}const A=a=>!!a.preferredSide,b=a=>!!a.board,j=a=>f(a),te=a=>f(a);function W(){u=this.value,n(5,u),n(2,s),n(4,c),n(1,o)}return e.$$set=a=>{"board"in a&&n(0,r=a.board),"fieldToString"in a&&n(3,i=a.fieldToString),"player"in a&&n(1,o=a.player),"enemy"in a&&n(2,s=a.enemy)},e.$$.update=()=>{if(e.$$.dirty&1){let a=new ke(r);a.finished&&m("finished",a)}if(e.$$.dirty&1&&U(r).length===9&&(l=T.PLAYER1,!h().isHuman()&&!h().isOnline())){const a=h().move(r);E(a,h().field),l=T.PLAYER2}e.$$.dirty&22&&(s.isOnline()&&s.connection===void 0?(n(4,c=Se()),n(2,s.connection=Ee(c,y(s.field)),s)):!s.isOnline()&&s.connection!==void 0&&(s.connection.close(),n(2,s.connection=void 0,s),n(4,c=""),n(5,u="")),o.isOnline()&&o.connection===void 0?(n(4,c=Se()),n(1,o.connection=Ee(c,y(o.field)),o)):!o.isOnline()&&o.connection!==void 0&&(o.connection.close(),n(1,o.connection=void 0,o),n(4,c=""),n(5,u="")))},[r,o,s,i,c,u,f,p,j,te,W]}class ot extends ee{constructor(t){super(),x(this,t,it,rt,F,{board:0,fieldToString:3,player:1,enemy:2})}}function st(e){let t;return{c(){t=Y("🤖")},m(n,r){M(n,t,r)},d(n){n&&P(t)}}}function ct(e){let t;return{c(){t=Y("🧑‍💻🌐")},m(n,r){M(n,t,r)},d(n){n&&P(t)}}}function lt(e){let t;return{c(){t=Y("👨‍💻")},m(n,r){M(n,t,r)},d(n){n&&P(t)}}}function ut(e){let t;return{c(){t=Y("🤖")},m(n,r){M(n,t,r)},d(n){n&&P(t)}}}function ft(e){let t;return{c(){t=Y("🧑‍💻🌐")},m(n,r){M(n,t,r)},d(n){n&&P(t)}}}function at(e){let t;return{c(){t=Y("👨‍💻")},m(n,r){M(n,t,r)},d(n){n&&P(t)}}}function dt(e){let t,n,r,i,o,s,u=e[0].score+"",c,l,m,h,g,f=e[1].score+"",w,E,p,y,A,b,j;function te(k,L){return L&1&&(i=null),L&1&&(o=null),i==null&&(i=!!k[0].isHuman()),i?lt:(o==null&&(o=!!k[0].isOnline()),o?ct:st)}let W=te(e,-1),a=W(e);function N(k,L){return L&2&&(y=null),L&2&&(A=null),y==null&&(y=!!k[1].isHuman()),y?at:(A==null&&(A=!!k[1].isOnline()),A?ft:ut)}let C=N(e,-1),H=C(e);return{c(){t=v("div"),n=v("div"),r=v("i"),a.c(),s=D(),c=Y(u),l=D(),m=v("div"),m.textContent="🆚",h=D(),g=v("div"),w=Y(f),E=D(),p=v("i"),H.c(),d(r,"class","svelte-1gwglwo"),d(n,"id","player1"),d(n,"class","player svelte-1gwglwo"),d(m,"id","versus"),d(m,"class","svelte-1gwglwo"),d(p,"class","svelte-1gwglwo"),d(g,"id","player2"),d(g,"class","player svelte-1gwglwo"),d(t,"id","scoreboard"),d(t,"class","svelte-1gwglwo")},m(k,L){M(k,t,L),_(t,n),_(n,r),a.m(r,null),_(n,s),_(n,c),_(t,l),_(t,m),_(t,h),_(t,g),_(g,w),_(g,E),_(g,p),H.m(p,null),b||(j=[R(m,"click",e[3]),R(m,"keydown",e[4])],b=!0)},p(k,[L]){W!==(W=te(k,L))&&(a.d(1),a=W(k),a&&(a.c(),a.m(r,null))),L&1&&u!==(u=k[0].score+"")&&ce(c,u),L&2&&f!==(f=k[1].score+"")&&ce(w,f),C!==(C=N(k,L))&&(H.d(1),H=C(k),H&&(H.c(),H.m(p,null)))},i:I,o:I,d(k){k&&P(t),a.d(),H.d(),b=!1,B(j)}}}function mt(e,t,n){let{player:r}=t,{enemy:i}=t,o=ue();function s(){!r.isOnline()&&!i.isOnline()&&o("switch")}const u=()=>s(),c=()=>s();return e.$$set=l=>{"player"in l&&n(0,r=l.player),"enemy"in l&&n(1,i=l.enemy)},[r,i,s,u,c]}class ht extends ee{constructor(t){super(),x(this,t,mt,dt,F,{player:0,enemy:1})}}function _t(e){let t,n,r,i,o,s,u,c,l,m;return{c(){t=v("nav"),n=v("select"),r=v("option"),r.textContent="🤖",i=v("option"),i.textContent="🤖➕",o=v("option"),o.textContent="🤖❗",s=v("option"),s.textContent="❗🤖❗",u=v("option"),u.textContent="👨‍💻",c=v("option"),c.textContent="👨‍💻 / 👨‍💻",r.__value="easy",r.value=r.__value,d(r,"class","svelte-17bkcmu"),i.__value="petty",i.value=i.__value,d(i,"class","svelte-17bkcmu"),o.__value="medium",o.value=o.__value,d(o,"class","svelte-17bkcmu"),s.__value="hard",s.value=s.__value,d(s,"class","svelte-17bkcmu"),u.__value="human",u.value=u.__value,d(u,"class","svelte-17bkcmu"),c.__value="online",c.value=c.__value,d(c,"class","svelte-17bkcmu"),d(n,"id","mode"),d(n,"class","svelte-17bkcmu"),d(t,"class","svelte-17bkcmu")},m(h,g){M(h,t,g),_(t,n),_(n,r),_(n,i),_(n,o),_(n,s),_(n,u),_(n,c),l||(m=R(n,"change",e[0]),l=!0)},p:I,i:I,o:I,d(h){h&&P(t),l=!1,m()}}}function yt(e){const t=ue();function n(r){let i=r.target.value,o=O.EASY;switch(i){case"easy":o=O.EASY;break;case"petty":o=O.PETTY;break;case"medium":o=O.MEDIUM;break;case"hard":o=O.HARD;break;case"human":o=O.HUMAN;break;case"online":o=O.ONLINE;break;default:o=O.EASY;break}t("change",o)}return[n]}class pt extends ee{constructor(t){super(),x(this,t,yt,_t,F,{})}}class G{constructor({primary:t,secondary:n,primaryAccent:r,secondaryAccent:i,background:o,name:s}){S(this,"primary");S(this,"secondary");S(this,"primaryAccent");S(this,"secondaryAccent");S(this,"background");S(this,"name");this.primary=t,this.secondary=n,this.primaryAccent=r,this.secondaryAccent=i,this.background=o,this.name=s}CSS(){return`--primary: ${this.primary}; --secondary: ${this.secondary}; --primaryAccent: ${this.primaryAccent}; --secondaryAccent: ${this.secondaryAccent}; --background: ${this.background}`}}const X=[new G({primary:"#1e1f26",secondary:"#bdc3c7",primaryAccent:"#3498db",secondaryAccent:"#2980b9",background:"#2c3e50",name:"Midnight blue"}),new G({primary:"#ffd700",secondary:"#616161",primaryAccent:"#8c7853",secondaryAccent:"#c5cae9",background:"#121212",name:"Black and gold"}),new G({primary:"#4e9a06",secondary:"#f7e267",primaryAccent:"#edd400",secondaryAccent:"#ce5c00",background:"#1b1b1b",name:"Dark green"}),new G({primary:"#8e24aa",secondary:"#ffd54f",primaryAccent:"#ffb300",secondaryAccent:"#e65100",background:"#121212",name:"Vibrant purple"}),new G({primary:"#008080",secondary:"#ffe0b2",primaryAccent:"#ffab91",secondaryAccent:"#4a148c",background:"#232323",name:"Teal blue"})];function gt(e){let t,n,r,i,o;return{c(){t=v("button"),n=Y("🎨"),d(t,"title",r=X[e[0]].name),d(t,"class","svelte-tojmix")},m(s,u){M(s,t,u),_(t,n),i||(o=R(t,"click",e[2]),i=!0)},p(s,[u]){u&1&&r!==(r=X[s[0]].name)&&d(t,"title",r)},i:I,o:I,d(s){s&&P(t),i=!1,o()}}}function vt(e,t,n){const r=ue();let i=0;Be(()=>{r("changed",X[i])});function o(){n(0,i=(i+1)%X.length),r("changed",X[i])}return[i,o,()=>o()]}class bt extends ee{constructor(t){super(),x(this,t,vt,gt,F,{})}}function wt(e){let t,n,r,i,o,s,u,c,l,m;n=new pt({}),n.$on("change",e[5]);const h=[e[1]];let g={};for(let f=0;f<h.length;f+=1)g=De(g,h[f]);return i=new ht({props:g}),i.$on("switch",e[4]),s=new bt({}),s.$on("changed",At),l=new ot({props:{board:e[0],fieldToString:e[2],player:e[1].player,enemy:e[1].enemy}}),l.$on("finished",e[3]),l.$on("switch",e[4]),{c(){t=v("header"),re(n.$$.fragment),r=D(),re(i.$$.fragment),o=D(),re(s.$$.fragment),u=D(),c=v("main"),re(l.$$.fragment),d(t,"class","svelte-3o9bc2"),d(c,"class","svelte-3o9bc2")},m(f,w){M(f,t,w),V(n,t,null),_(t,r),V(i,t,null),_(t,o),V(s,t,null),M(f,u,w),M(f,c,w),V(l,c,null),m=!0},p(f,[w]){const E=w&2?Ge(h,[Ke(f[1])]):{};i.$set(E);const p={};w&1&&(p.board=f[0]),w&2&&(p.player=f[1].player),w&2&&(p.enemy=f[1].enemy),l.$set(p)},i(f){m||(K(n.$$.fragment,f),K(i.$$.fragment,f),K(s.$$.fragment,f),K(l.$$.fragment,f),m=!0)},o(f){ne(n.$$.fragment,f),ne(i.$$.fragment,f),ne(s.$$.fragment,f),ne(l.$$.fragment,f),m=!1},d(f){f&&P(t),q(n),q(i),q(s),f&&P(u),f&&P(c),q(l)}}}const kt="❌",Et="⭕";function At({detail:e}){let t=Object.entries(e);for(let n of t)typeof n[1]=="string"&&document.documentElement.style.setProperty(`--${n[0]}`,`${n[1]}`)}function St(e,t,n){let r=ie(),i=new xe,o=l=>{switch(l){case T.EMPTY:return"";case T.PLAYER1:return kt;case T.PLAYER2:return Et}};function s(l){l.detail.isDraw()||(i.addWin(l.detail.winner),n(1,i)),setTimeout(()=>n(0,r=ie()),1e3)}function u(){n(0,r=ie()),i.switchSides(),n(1,i),n(1,i),n(1,i)}function c({detail:l}){i.updateMode(l),n(1,i),n(0,r=ie())}return[r,i,o,s,u,c]}class Ot extends ee{constructor(t){super(),x(this,t,St,wt,F,{})}}new Ot({target:document.getElementById("app")});
